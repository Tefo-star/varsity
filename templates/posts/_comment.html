{% load static %}

<div class="comment mb-2 p-2" id="comment-{{ comment.id }}" style="background: rgba(0,0,0,0.02); border-radius: 10px;">
    <div class="d-flex">
        <div class="profile-avatar me-2" style="width: 28px; height: 28px; font-size: 0.8rem;">
            {% if comment.author.activity.profile_picture %}
                <img src="{{ comment.author.activity.profile_picture.url }}" style="width: 100%; height: 100%; object-fit: cover;">
            {% else %}
                {{ comment.author.username|first|upper }}
            {% endif %}
        </div>
        <div class="flex-grow-1">
            <div class="d-flex align-items-center gap-2 mb-1">
                <strong class="small">{{ comment.author.username }}</strong>
                {% if comment.author.activity.university %}
                    <span class="uni-badge uni-{{ comment.author.activity.university }}" style="font-size: 0.6rem; padding: 2px 6px;">
                        {% if comment.author.activity.university == 'ub' %}UB{% endif %}
                        {% if comment.author.activity.university == 'buan' %}BUAN{% endif %}
                        {% if comment.author.activity.university == 'botho' %}BOTHO{% endif %}
                        {% if comment.author.activity.university == 'limkokwing' %}LIMKO{% endif %}
                        {% if comment.author.activity.university == 'baisago' %}ISAGO{% endif %}
                        {% if comment.author.activity.university == 'biust' %}BIUST{% endif %}
                    </span>
                {% endif %}
                <span class="text-muted small">{{ comment.created_at|timesince }} ago</span>
                
                <!-- Delete button for own comments -->
                {% if user == comment.author %}
                    <button class="btn btn-link p-0 ms-auto text-danger delete-comment-btn" data-comment-id="{{ comment.id }}" style="font-size: 0.8rem;">
                        <i class="fas fa-trash"></i>
                    </button>
                {% endif %}
            </div>
            <p class="mb-1 small">{{ comment.content }}</p>
            
            <!-- Comment actions -->
            <div class="d-flex align-items-center gap-3">
                <button class="btn btn-link p-0 comment-like-btn" data-comment-id="{{ comment.id }}" style="font-size: 0.8rem; color: #718096; text-decoration: none;">
                    <i class="fas fa-heart me-1" style="font-size: 0.7rem;"></i> Like <span class="comment-like-count">{{ comment.get_reaction_counts.like }}</span>
                </button>
            </div>
        </div>
    </div>
</div>